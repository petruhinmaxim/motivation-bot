import type { Context } from 'grammy';
import { InlineKeyboard } from 'grammy';

export async function handleChallengeRulesScene(ctx: Context) {
  const messageText = 
    `–ô–µ–µ–µ–π! –û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–π—Ç–∏ —á–µ–ª–ª–µ–Ω–¥–∂, –¥–ª—è —ç—Ç–æ–≥–æ:\n` +
    `1) –ó–∞–Ω–∏–º–∞–π—Å—è –ª—é–±–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.\n` +
    `2) –î–µ–ª–∞–π —Ñ–æ—Ç–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –∑–∞–≥—Ä—É–∂–∞–π —Å—é–¥–∞.\n` +
    `3) –ú—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º —Ñ–æ—Ç–æ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ —Å–æ—Ü —Å–µ—Ç—å\n` +
    `4) –î–µ–ª–∏—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º —Å –¥—Ä—É–∑—å—è–º–∏\n\n` +
    `–ï—Å–ª–∏ 3 –¥–Ω—è –æ—Ç —Ç–µ–±—è –Ω–µ –±—É–¥–µ—Ç —Ñ–æ—Ç–æ, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∂–∏—Ä –ø–æ–±–µ–¥–∏–ª –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —Å–±—Ä–æ—à–µ–Ω. –¢—ã –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç —Å–º–æ–∂–µ—à—å –Ω–∞—á–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂ —Å–Ω–∞—á–∞–ª–∞`;

  const keyboard = new InlineKeyboard()
    .text('üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞', 'challenge_stats');

  // –ï—Å–ª–∏ —ç—Ç–æ callback query (–Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É), —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
  if (ctx.callbackQuery) {
    await ctx.editMessageText(messageText, { reply_markup: keyboard });
    await ctx.answerCallbackQuery();
  } else {
    // –ï—Å–ª–∏ —ç—Ç–æ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ
    await ctx.reply(messageText, { reply_markup: keyboard });
  }
}
